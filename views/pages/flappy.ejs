<!doctype html>
<html lang="en">
<!-- Head -->
<% include ../partials/head %>

<body>
  <!-- Nav -->
  <% include ../partials/nav %>
  <!-- Breadcrumb -->
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb container">
      <li class="breadcrumb-item"><a href="/">HOME</a></li>
      <li class="breadcrumb-item active" aria-current="flappy">FLAPPY BIRD</li>
    </ol>
  </nav>
  <!-- Main -->
  <main role="main" class="container">
    <!-- Modal -->
    <div id="gameModal" class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <form action="/results" method="POST">
            <div class="modal-body">
              <div class="form-group">
                <h4 class="modal-title text-center text-warning"><i class="fas fa-trophy"></i> Congratulation!</h4>
                <label id="label" for="name"></label>
                <input id="name" class="form-control" type="text" name="name" placeholder="Enter your name" required>
                <input id="score" type="hidden" name="score" class="form-control">
              </div>
              <button type="submit" class="btn btn-success">Save the score!</button>
              <button id="playAgain" type="button" class="btn btn-info" data-dismiss="modal">Play Again!</button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div id="canvas-container" class="container">
      <canvas id="canvas" width="800" height="480"></canvas>
    </div>
    <div class="statistics">
      <h4 class="text-muted">LEADER BOARD</h4>
      <table class="table table-md table-hover table-borderless table-striped">
        <thead>
          <tr class="table-info">
            <th scope="col">#</th>
            <th scope="col">Player</th>
            <th scope="col">Score</th>
          </tr>
        </thead>
        <tbody>
          <% for(let key in data) { %>
          <tr>
            <% const index = parseInt(key) + 1;%>
            <% if(index == 1) { %>
              <th style="width:3%" class="bg-warning" scope="row"><%=parseInt(key) + 1%></th>
            <% } else if (index == 2) { %>
              <th style="width:3%" class="bg-success" scope="row"><%=parseInt(key) + 1%></th>
            <% } else if (index == 3) { %>
            <th style="width:3%" class="bg-primary" scope="row"><%=parseInt(key) + 1%></th>
            <% } else { %>
            <th style="width:3%" class="bg-secondary" scope="row"><%=parseInt(key) + 1%></th>
            <% } %>
            <td><strong><%=data[key].username%></strong></td>
            <td><%=data[key].score%></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    </div>
  </main>
  <!-- Footer -->
  <% include ../partials/footer %>
  <!-- Script -->
  <% include ../partials/script %>
  <!-- Optional JavaScript -->
  <script type="text/javascript" src="/js/gameOld.js"></script>
</body>

</html>